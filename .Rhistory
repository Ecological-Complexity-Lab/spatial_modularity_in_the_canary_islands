Canary_map <- ggplot() +
geom_map(data = Canary, map = Canary, aes(long, lat, map_id = region), color = "black",
fill = "#CC9933", size = 0.2) +
geom_segment(aes(x= x, xend= xend, y= y, yend= yend, color = turnover),
data= jaccard_similarity_on_map)+ scale_color_gradient(high="red",low="grey")+
# Lines connecting points and pie charts
geom_segment(aes(x = Lon, y = lat, xend = xend, yend = yend), length = unit(0.2, "inches"),
color = "black", data = segm_connect) +
#DO IT MANUALLY
geom_point(aes(x= Lon, y= lat), shape = 21, fill= 'white', color= "black", data= lon_lat_data )+
xlab("Longitude") +xlim(-18.53, -13.5)+ ylab("Latitude")+ ylim(24.9,30)+
theme(panel.border = element_blank(),
panel.background = element_rect(fill = "lightblue",colour = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_line(size = 0.4, linetype = "solid", colour = "black"))+
theme(axis.title=element_text(size=17))+theme(axis.text.x=element_text(size=13))+
theme(axis.text.y=element_text(size=13))+ theme(legend.title = element_text(size = 13), legend.text = element_text(size = 13))+
labs(color = "Jaccard Similarity")
Canary_map
##-- Final map containing Jaccard Similarity across Islands and the scatter pies
top_10_scatterpies_no_legend <- top_10_scatterpies + theme(legend.position = "none")
pdf('./graphs/Islands/Map_modules.pdf', 10, 6)
ggdraw()+ draw_plot(Canary_map)+
draw_plot(top_10_scatterpies_no_legend, x = -0.088, y = 0.12, scale = 0.70)
dev.off()
Canary<- world_coordinates %>%
filter(long > -18.53 & long < -12.9, lat > 24.5 & lat < 32)#Filter Canary Island region
Canary_map <- ggplot() +
geom_map(data = Canary, map = Canary, aes(long, lat, map_id = region), color = "black",
fill = "#CC9933", size = 0.2) +
geom_segment(aes(x= x, xend= xend, y= y, yend= yend, color = turnover),
data= jaccard_similarity_on_map)+ scale_color_gradient(high="#a70000",low="grey")+
# Lines connecting points and pie charts
geom_segment(aes(x = Lon, y = lat, xend = xend, yend = yend), length = unit(0.2, "inches"),
color = "black", data = segm_connect) +
#DO IT MANUALLY
geom_point(aes(x= Lon, y= lat), shape = 21, fill= 'white', color= "black", data= lon_lat_data )+
xlab("Longitude") +xlim(-18.53, -13.5)+ ylab("Latitude")+ ylim(24.9,30)+
theme(panel.border = element_blank(),
panel.background = element_rect(fill = "lightblue",colour = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_line(size = 0.4, linetype = "solid", colour = "black"))+
theme(axis.title=element_text(size=17))+theme(axis.text.x=element_text(size=13))+
theme(axis.text.y=element_text(size=13))+ theme(legend.title = element_text(size = 13), legend.text = element_text(size = 13))+
labs(color = "Jaccard Similarity")
Canary_map
##-- Final map containing Jaccard Similarity across Islands and the scatter pies
top_10_scatterpies_no_legend <- top_10_scatterpies + theme(legend.position = "none")
pdf('./graphs/Islands/Map_modules.pdf', 10, 6)
ggdraw()+ draw_plot(Canary_map)+
draw_plot(top_10_scatterpies_no_legend, x = -0.088, y = 0.12, scale = 0.70)
dev.off()
Canary_map <- ggplot() +
geom_map(data = Canary, map = Canary, aes(long, lat, map_id = region), color = "black",
fill = "#CC9933", size = 0.2) +
geom_segment(aes(x= x, xend= xend, y= y, yend= yend, color = turnover),
data= jaccard_similarity_on_map)+ scale_color_gradient(high="#204132",low="#96a46b")+
# Lines connecting points and pie charts
geom_segment(aes(x = Lon, y = lat, xend = xend, yend = yend), length = unit(0.2, "inches"),
color = "black", data = segm_connect) +
#DO IT MANUALLY
geom_point(aes(x= Lon, y= lat), shape = 21, fill= 'white', color= "black", data= lon_lat_data )+
xlab("Longitude") +xlim(-18.53, -13.5)+ ylab("Latitude")+ ylim(24.9,30)+
theme(panel.border = element_blank(),
panel.background = element_rect(fill = "lightblue",colour = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_line(size = 0.4, linetype = "solid", colour = "black"))+
theme(axis.title=element_text(size=17))+theme(axis.text.x=element_text(size=13))+
theme(axis.text.y=element_text(size=13))+ theme(legend.title = element_text(size = 13), legend.text = element_text(size = 13))+
labs(color = "Jaccard Similarity")
Canary_map
##-- Final map containing Jaccard Similarity across Islands and the scatter pies
top_10_scatterpies_no_legend <- top_10_scatterpies + theme(legend.position = "none")
pdf('./graphs/Islands/Map_modules.pdf', 10, 6)
ggdraw()+ draw_plot(Canary_map)+
draw_plot(top_10_scatterpies_no_legend, x = -0.088, y = 0.12, scale = 0.70)
dev.off()
Canary_map <- ggplot() +
geom_map(data = Canary, map = Canary, aes(long, lat, map_id = region), color = "black",
fill = "#CC9933", size = 0.2) +
geom_segment(aes(x= x, xend= xend, y= y, yend= yend, color = turnover),
data= jaccard_similarity_on_map)+ scale_color_gradient(high="#204132",low="#96a46b")+
# Lines connecting points and pie charts
geom_segment(aes(x = Lon, y = lat, xend = xend, yend = yend), length = unit(0.2, "inches"),
color = "black", data = segm_connect) +
#DO IT MANUALLY
geom_point(aes(x= Lon, y= lat), shape = 21, fill= 'white', color= "black", data= lon_lat_data )+
xlab("Longitude") +xlim(-18.53, -13.5)+ ylab("Latitude")+ ylim(24.9,30)+
theme(panel.border = element_blank(),
panel.background = element_rect(fill = "F0F8FF",colour = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_line(size = 0.4, linetype = "solid", colour = "black"))+
theme(axis.title=element_text(size=17))+theme(axis.text.x=element_text(size=13))+
theme(axis.text.y=element_text(size=13))+ theme(legend.title = element_text(size = 13), legend.text = element_text(size = 13))+
labs(color = "Jaccard Similarity")
Canary_map
##-- Final map containing Jaccard Similarity across Islands and the scatter pies
top_10_scatterpies_no_legend <- top_10_scatterpies + theme(legend.position = "none")
pdf('./graphs/Islands/Map_modules.pdf', 10, 6)
ggdraw()+ draw_plot(Canary_map)+
draw_plot(top_10_scatterpies_no_legend, x = -0.088, y = 0.12, scale = 0.70)
dev.off()
Canary_map <- ggplot() +
geom_map(data = Canary, map = Canary, aes(long, lat, map_id = region), color = "black",
fill = "#CC9933", size = 0.2) +
geom_segment(aes(x= x, xend= xend, y= y, yend= yend, color = turnover),
data= jaccard_similarity_on_map)+ scale_color_gradient(high="#204132",low="#96a46b")+
# Lines connecting points and pie charts
geom_segment(aes(x = Lon, y = lat, xend = xend, yend = yend), length = unit(0.2, "inches"),
color = "black", data = segm_connect) +
#DO IT MANUALLY
geom_point(aes(x= Lon, y= lat), shape = 21, fill= 'white', color= "black", data= lon_lat_data )+
xlab("Longitude") +xlim(-18.53, -13.5)+ ylab("Latitude")+ ylim(24.9,30)+
theme(panel.border = element_blank(),
panel.background = element_rect(fill = "#F0F8FF",colour = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_line(size = 0.4, linetype = "solid", colour = "black"))+
theme(axis.title=element_text(size=17))+theme(axis.text.x=element_text(size=13))+
theme(axis.text.y=element_text(size=13))+ theme(legend.title = element_text(size = 13), legend.text = element_text(size = 13))+
labs(color = "Jaccard Similarity")
Canary_map
##-- Final map containing Jaccard Similarity across Islands and the scatter pies
top_10_scatterpies_no_legend <- top_10_scatterpies + theme(legend.position = "none")
pdf('./graphs/Islands/Map_modules.pdf', 10, 6)
ggdraw()+ draw_plot(Canary_map)+
draw_plot(top_10_scatterpies_no_legend, x = -0.088, y = 0.12, scale = 0.70)
dev.off()
Canary<- world_coordinates %>%
filter(long > -18.53 & long < -12.9, lat > 24.5 & lat < 32)#Filter Canary Island region
Canary_map <- ggplot() +
geom_map(data = Canary, map = Canary, aes(long, lat, map_id = region), color = "black",
fill = "#CC9933", size = 0.2) +
geom_segment(aes(x= x, xend= xend, y= y, yend= yend, color = turnover),
data= jaccard_similarity_on_map)+ scale_color_gradient(high="#204132",low="#96a46b")+
# Lines connecting points and pie charts
geom_segment(aes(x = Lon, y = lat, xend = xend, yend = yend), length = unit(0.2, "inches"),
color = "black", data = segm_connect) +
#DO IT MANUALLY
geom_point(aes(x= Lon, y= lat), shape = 21, fill= 'white', color= "black", data= lon_lat_data )+
xlab("Longitude") +xlim(-18.53, -13.5)+ ylab("Latitude")+ ylim(24.9,30)+
theme(panel.border = element_blank(),
panel.background = element_rect(fill = "#FCAE9F5",colour = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_line(size = 0.4, linetype = "solid", colour = "black"))+
theme(axis.title=element_text(size=17))+theme(axis.text.x=element_text(size=13))+
theme(axis.text.y=element_text(size=13))+ theme(legend.title = element_text(size = 13), legend.text = element_text(size = 13))+
labs(color = "Jaccard Similarity")
Canary_map
Canary_map <- ggplot() +
geom_map(data = Canary, map = Canary, aes(long, lat, map_id = region), color = "black",
fill = "#CC9933", size = 0.2) +
geom_segment(aes(x= x, xend= xend, y= y, yend= yend, color = turnover),
data= jaccard_similarity_on_map)+ scale_color_gradient(high="#204132",low="#96a46b")+
# Lines connecting points and pie charts
geom_segment(aes(x = Lon, y = lat, xend = xend, yend = yend), length = unit(0.2, "inches"),
color = "black", data = segm_connect) +
#DO IT MANUALLY
geom_point(aes(x= Lon, y= lat), shape = 21, fill= 'white', color= "black", data= lon_lat_data )+
xlab("Longitude") +xlim(-18.53, -13.5)+ ylab("Latitude")+ ylim(24.9,30)+
theme(panel.border = element_blank(),
panel.background = element_rect(fill = "#CAE9F5",colour = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_line(size = 0.4, linetype = "solid", colour = "black"))+
theme(axis.title=element_text(size=17))+theme(axis.text.x=element_text(size=13))+
theme(axis.text.y=element_text(size=13))+ theme(legend.title = element_text(size = 13), legend.text = element_text(size = 13))+
labs(color = "Jaccard Similarity")
Canary_map
##-- Final map containing Jaccard Similarity across Islands and the scatter pies
top_10_scatterpies_no_legend <- top_10_scatterpies + theme(legend.position = "none")
pdf('./graphs/Islands/Map_modules.pdf', 10, 6)
ggdraw()+ draw_plot(Canary_map)+
draw_plot(top_10_scatterpies_no_legend, x = -0.088, y = 0.12, scale = 0.70)
dev.off()
Canary_map <- ggplot() +
geom_map(data = Canary, map = Canary, aes(long, lat, map_id = region), color = "black",
fill = "#d6bfb1", size = 0.2) +
geom_segment(aes(x= x, xend= xend, y= y, yend= yend, color = turnover),
data= jaccard_similarity_on_map)+ scale_color_gradient(high="#204132",low="#96a46b")+
# Lines connecting points and pie charts
geom_segment(aes(x = Lon, y = lat, xend = xend, yend = yend), length = unit(0.2, "inches"),
color = "black", data = segm_connect) +
#DO IT MANUALLY
geom_point(aes(x= Lon, y= lat), shape = 21, fill= 'white', color= "black", data= lon_lat_data )+
xlab("Longitude") +xlim(-18.53, -13.5)+ ylab("Latitude")+ ylim(24.9,30)+
theme(panel.border = element_blank(),
panel.background = element_rect(fill = "#F0F8FF",colour = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_line(size = 0.4, linetype = "solid", colour = "black"))+
theme(axis.title=element_text(size=17))+theme(axis.text.x=element_text(size=13))+
theme(axis.text.y=element_text(size=13))+ theme(legend.title = element_text(size = 13), legend.text = element_text(size = 13))+
labs(color = "Jaccard Similarity")
Canary_map
##-- Final map containing Jaccard Similarity across Islands and the scatter pies
top_10_scatterpies_no_legend <- top_10_scatterpies + theme(legend.position = "none")
pdf('./graphs/Islands/Map_modules.pdf', 10, 6)
ggdraw()+ draw_plot(Canary_map)+
draw_plot(top_10_scatterpies_no_legend, x = -0.088, y = 0.12, scale = 0.70)
dev.off()
Canary_map <- ggplot() +
geom_map(data = Canary, map = Canary, aes(long, lat, map_id = region), color = "black",
fill = "#c2a18b", size = 0.2) +
geom_segment(aes(x= x, xend= xend, y= y, yend= yend, color = turnover),
data= jaccard_similarity_on_map)+ scale_color_gradient(high="#204132",low="#96a46b")+
# Lines connecting points and pie charts
geom_segment(aes(x = Lon, y = lat, xend = xend, yend = yend), length = unit(0.2, "inches"),
color = "black", data = segm_connect) +
#DO IT MANUALLY
geom_point(aes(x= Lon, y= lat), shape = 21, fill= 'white', color= "black", data= lon_lat_data )+
xlab("Longitude") +xlim(-18.53, -13.5)+ ylab("Latitude")+ ylim(24.9,30)+
theme(panel.border = element_blank(),
panel.background = element_rect(fill = "#F0F8FF",colour = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_line(size = 0.4, linetype = "solid", colour = "black"))+
theme(axis.title=element_text(size=17))+theme(axis.text.x=element_text(size=13))+
theme(axis.text.y=element_text(size=13))+ theme(legend.title = element_text(size = 13), legend.text = element_text(size = 13))+
labs(color = "Jaccard Similarity")
Canary_map
##-- Final map containing Jaccard Similarity across Islands and the scatter pies
top_10_scatterpies_no_legend <- top_10_scatterpies + theme(legend.position = "none")
pdf('./graphs/Islands/Map_modules.pdf', 10, 6)
ggdraw()+ draw_plot(Canary_map)+
draw_plot(top_10_scatterpies_no_legend, x = -0.088, y = 0.12, scale = 0.70)
dev.off()
Canary_map <- ggplot() +
geom_map(data = Canary, map = Canary, aes(long, lat, map_id = region), color = "black",
fill = "#c2a18b", size = 0.2) +
geom_segment(aes(x= x, xend= xend, y= y, yend= yend, color = turnover),
data= jaccard_similarity_on_map)+ scale_color_gradient(high="#204132",low="#edf8e9")+
# Lines connecting points and pie charts
geom_segment(aes(x = Lon, y = lat, xend = xend, yend = yend), length = unit(0.2, "inches"),
color = "black", data = segm_connect) +
#DO IT MANUALLY
geom_point(aes(x= Lon, y= lat), shape = 21, fill= 'white', color= "black", data= lon_lat_data )+
xlab("Longitude") +xlim(-18.53, -13.5)+ ylab("Latitude")+ ylim(24.9,30)+
theme(panel.border = element_blank(),
panel.background = element_rect(fill = "#F0F8FF",colour = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_line(size = 0.4, linetype = "solid", colour = "black"))+
theme(axis.title=element_text(size=17))+theme(axis.text.x=element_text(size=13))+
theme(axis.text.y=element_text(size=13))+ theme(legend.title = element_text(size = 13), legend.text = element_text(size = 13))+
labs(color = "Jaccard Similarity")
Canary_map
##-- Final map containing Jaccard Similarity across Islands and the scatter pies
top_10_scatterpies_no_legend <- top_10_scatterpies + theme(legend.position = "none")
pdf('./graphs/Islands/Map_modules.pdf', 10, 6)
ggdraw()+ draw_plot(Canary_map)+
draw_plot(top_10_scatterpies_no_legend, x = -0.088, y = 0.12, scale = 0.70)
dev.off()
Canary<- world_coordinates %>%
filter(long > -18.53 & long < -12.9, lat > 24.5 & lat < 32)#Filter Canary Island region
Canary_map <- ggplot() +
geom_map(data = Canary, map = Canary, aes(long, lat, map_id = region), color = "black",
fill = "#c2a18b", size = 0.2) +
geom_segment(aes(x= x, xend= xend, y= y, yend= yend, color = turnover),
data= jaccard_similarity_on_map)+ scale_color_gradient(high="#238b45",low="#edf8e9")+
# Lines connecting points and pie charts
geom_segment(aes(x = Lon, y = lat, xend = xend, yend = yend), length = unit(0.2, "inches"),
color = "black", data = segm_connect) +
#DO IT MANUALLY
geom_point(aes(x= Lon, y= lat), shape = 21, fill= 'white', color= "black", data= lon_lat_data )+
xlab("Longitude") +xlim(-18.53, -13.5)+ ylab("Latitude")+ ylim(24.9,30)+
theme(panel.border = element_blank(),
panel.background = element_rect(fill = "#F0F8FF",colour = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_line(size = 0.4, linetype = "solid", colour = "black"))+
theme(axis.title=element_text(size=17))+theme(axis.text.x=element_text(size=13))+
theme(axis.text.y=element_text(size=13))+ theme(legend.title = element_text(size = 13), legend.text = element_text(size = 13))+
labs(color = "Jaccard Similarity")
Canary_map
##-- Final map containing Jaccard Similarity across Islands and the scatter pies
top_10_scatterpies_no_legend <- top_10_scatterpies + theme(legend.position = "none")
pdf('./graphs/Islands/Map_modules.pdf', 10, 6)
ggdraw()+ draw_plot(Canary_map)+
draw_plot(top_10_scatterpies_no_legend, x = -0.088, y = 0.12, scale = 0.70)
dev.off()
Canary<- world_coordinates %>%
filter(long > -18.53 & long < -12.9, lat > 24.5 & lat < 32)#Filter Canary Island region
Canary_map <- ggplot() +
geom_map(data = Canary, map = Canary, aes(long, lat, map_id = region), color = "black",
fill = "#c2a18b", size = 0.2) +
geom_segment(aes(x= x, xend= xend, y= y, yend= yend, color = turnover),
data= jaccard_similarity_on_map)+ scale_color_gradient(high="#238b45",low="#aaaaaa")+
# Lines connecting points and pie charts
geom_segment(aes(x = Lon, y = lat, xend = xend, yend = yend), length = unit(0.2, "inches"),
color = "black", data = segm_connect) +
#DO IT MANUALLY
geom_point(aes(x= Lon, y= lat), shape = 21, fill= 'white', color= "black", data= lon_lat_data )+
xlab("Longitude") +xlim(-18.53, -13.5)+ ylab("Latitude")+ ylim(24.9,30)+
theme(panel.border = element_blank(),
panel.background = element_rect(fill = "#F0F8FF",colour = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_line(size = 0.4, linetype = "solid", colour = "black"))+
theme(axis.title=element_text(size=17))+theme(axis.text.x=element_text(size=13))+
theme(axis.text.y=element_text(size=13))+ theme(legend.title = element_text(size = 13), legend.text = element_text(size = 13))+
labs(color = "Jaccard Similarity")
Canary_map
##-- Final map containing Jaccard Similarity across Islands and the scatter pies
top_10_scatterpies_no_legend <- top_10_scatterpies + theme(legend.position = "none")
pdf('./graphs/Islands/Map_modules.pdf', 10, 6)
ggdraw()+ draw_plot(Canary_map)+
draw_plot(top_10_scatterpies_no_legend, x = -0.088, y = 0.12, scale = 0.70)
dev.off()
Canary_map <- ggplot() +
geom_map(data = Canary, map = Canary, aes(long, lat, map_id = region), color = "black",
fill = "#c2a18b", size = 0.2) +
geom_segment(aes(x= x, xend= xend, y= y, yend= yend, color = turnover),
data= jaccard_similarity_on_map)+ scale_color_gradient(high="#238b45",low="#aaaaaa")+
# Lines connecting points and pie charts
geom_segment(aes(x = Lon, y = lat, xend = xend, yend = yend), length = unit(0.2, "inches"),
color = "black", data = segm_connect) +
#DO IT MANUALLY
geom_point(aes(x= Lon, y= lat), shape = 21, fill= 'white', color= "black", data= lon_lat_data )+
xlab("Longitude") +xlim(-18.53, -13.5)+ ylab("Latitude")+ ylim(24.9,30)+
theme(panel.border = element_blank(),
panel.background = element_rect(fill = "red",colour = "blue"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_line(size = 0.4, linetype = "solid", colour = "black"))+
theme(axis.title=element_text(size=17))+theme(axis.text.x=element_text(size=13))+
theme(axis.text.y=element_text(size=13))+ theme(legend.title = element_text(size = 13), legend.text = element_text(size = 13))+
labs(color = "Jaccard Similarity")
Canary_map
##-- Final map containing Jaccard Similarity across Islands and the scatter pies
top_10_scatterpies_no_legend <- top_10_scatterpies + theme(legend.position = "none")
pdf('./graphs/Islands/Map_modules.pdf', 10, 6)
ggdraw()+ draw_plot(Canary_map)+
draw_plot(top_10_scatterpies_no_legend, x = -0.088, y = 0.12, scale = 0.70)
dev.off()
Canary<- world_coordinates %>%
filter(long > -18.53 & long < -12.9, lat > 24.5 & lat < 32)#Filter Canary Island region
Canary_map <- ggplot() +
geom_map(data = Canary, map = Canary, aes(long, lat, map_id = region), color = "black",
fill = "#c2a18b", size = 0.2) +
geom_segment(aes(x= x, xend= xend, y= y, yend= yend, color = turnover),
data= jaccard_similarity_on_map)+ scale_color_gradient(high="red",low="blue")+
# Lines connecting points and pie charts
geom_segment(aes(x = Lon, y = lat, xend = xend, yend = yend), length = unit(0.2, "inches"),
color = "black", data = segm_connect) +
#DO IT MANUALLY
geom_point(aes(x= Lon, y= lat), shape = 21, fill= 'white', color= "black", data= lon_lat_data )+
xlab("Longitude") +xlim(-18.53, -13.5)+ ylab("Latitude")+ ylim(24.9,30)+
theme(panel.border = element_blank(),
panel.background = element_rect(fill = "#F0F8FF",colour = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_line(size = 0.4, linetype = "solid", colour = "black"))+
theme(axis.title=element_text(size=17))+theme(axis.text.x=element_text(size=13))+
theme(axis.text.y=element_text(size=13))+ theme(legend.title = element_text(size = 13), legend.text = element_text(size = 13))+
labs(color = "Jaccard Similarity")
Canary_map
##-- Final map containing Jaccard Similarity across Islands and the scatter pies
top_10_scatterpies_no_legend <- top_10_scatterpies + theme(legend.position = "none")
pdf('./graphs/Islands/Map_modules.pdf', 10, 6)
ggdraw()+ draw_plot(Canary_map)+
draw_plot(top_10_scatterpies_no_legend, x = -0.088, y = 0.12, scale = 0.70)
dev.off()
#Plot
top_10_scatterpies <- ggplot()+ geom_scatterpie(aes(x=Lon, y=lat, group=layer_id, r=0.2), alpha=1, data= pie_chart_data2,
cols=colnames(pie_chart_data2[,c(4:12)]))+
theme_void()+ coord_fixed()+ theme(legend.text = element_text(size = 13), legend.title = element_text(size = 13))
top_10_scatterpies
#combine turnover data frame with coordinates
empirical_turnover_for_module_island_shuf_no_self_loop_km <- read.csv("csvs/Islands/islands_turnover_with_distnace_empirical.csv")
islands_with_lon_lat_dif <- read.csv("./csvs/islands_with_lon_lat_dif.csv")
# Modify islands_with_lon_lat_dif dataframe
islands_with_lon_lat_dif2<- islands_with_lon_lat_dif %>%
mutate(layer_from = recode(layer_from, "1" = "1", "2" = "2", "3"="3", "4east" = "4", "4west" = "5", "6" = "6", "7" = "7"),
layer_to = recode(layer_to, "1" = "1", "2" = "2", "3"="3", "4east" = "4", "4west" = "5", "5" = "6", "6" = "7"))
#join both data frames
jaccard_similarity_on_map <- merge(empirical_turnover_for_module_island_shuf_no_self_loop_km, islands_with_lon_lat_dif2,
by = c("layer_from", "layer_to"))
pie_coord<- data.frame(xend = c(-14.57,-14.15,-15.72,-16.70,-17.2,-17.48,-18.1),
yend = c(26.18,29.42,28.44,28.9,29.08,28.64,28.33))
segm_connect<- cbind(lon_lat_data, pie_coord)
##Create data for world coordinates using map_data() function
world_coordinates <- map_data("world")
Canary<- world_coordinates %>%
filter(long > -18.53 & long < -12.9, lat > 24.5 & lat < 32)#Filter Canary Island region
Canary_map <- ggplot() +
geom_map(data = Canary, map = Canary, aes(long, lat, map_id = region), color = "black",
fill = "#c2a18b", size = 0.2) +
geom_segment(aes(x= x, xend= xend, y= y, yend= yend, color = turnover),
data= jaccard_similarity_on_map)+ scale_color_gradient(high="red",low="blue")+
# Lines connecting points and pie charts
geom_segment(aes(x = Lon, y = lat, xend = xend, yend = yend), length = unit(0.2, "inches"),
color = "black", data = segm_connect) +
#DO IT MANUALLY
geom_point(aes(x= Lon, y= lat), shape = 21, fill= 'white', color= "black", data= lon_lat_data )+
xlab("Longitude") +xlim(-18.53, -13.5)+ ylab("Latitude")+ ylim(24.9,30)+
theme(panel.border = element_blank(),
panel.background = element_rect(fill = "#F0F8FF",colour = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_line(size = 0.4, linetype = "solid", colour = "black"))+
theme(axis.title=element_text(size=17))+theme(axis.text.x=element_text(size=13))+
theme(axis.text.y=element_text(size=13))+ theme(legend.title = element_text(size = 13), legend.text = element_text(size = 13))+
labs(color = "Jaccard Similarity")
Canary_map
##-- Final map containing Jaccard Similarity across Islands and the scatter pies
top_10_scatterpies_no_legend <- top_10_scatterpies + theme(legend.position = "none")
pdf('./graphs/Islands/Map_modules.pdf', 10, 6)
ggdraw()+ draw_plot(Canary_map)+
draw_plot(top_10_scatterpies_no_legend, x = -0.088, y = 0.12, scale = 0.70)
dev.off()
#Plot
top_10_scatterpies <- ggplot()+ geom_scatterpie(aes(x=Lon, y=lat, group=layer_id, r=0.2), alpha=0.95, data= pie_chart_data2,
cols=colnames(pie_chart_data2[,c(4:12)]))+
theme_void()+ coord_fixed()+ theme(legend.text = element_text(size = 13), legend.title = element_text(size = 13))
top_10_scatterpies
#combine turnover data frame with coordinates
empirical_turnover_for_module_island_shuf_no_self_loop_km <- read.csv("csvs/Islands/islands_turnover_with_distnace_empirical.csv")
islands_with_lon_lat_dif <- read.csv("./csvs/islands_with_lon_lat_dif.csv")
# Modify islands_with_lon_lat_dif dataframe
islands_with_lon_lat_dif2<- islands_with_lon_lat_dif %>%
mutate(layer_from = recode(layer_from, "1" = "1", "2" = "2", "3"="3", "4east" = "4", "4west" = "5", "6" = "6", "7" = "7"),
layer_to = recode(layer_to, "1" = "1", "2" = "2", "3"="3", "4east" = "4", "4west" = "5", "5" = "6", "6" = "7"))
#join both data frames
jaccard_similarity_on_map <- merge(empirical_turnover_for_module_island_shuf_no_self_loop_km, islands_with_lon_lat_dif2,
by = c("layer_from", "layer_to"))
pie_coord<- data.frame(xend = c(-14.57,-14.15,-15.72,-16.70,-17.2,-17.48,-18.1),
yend = c(26.18,29.42,28.44,28.9,29.08,28.64,28.33))
segm_connect<- cbind(lon_lat_data, pie_coord)
##Create data for world coordinates using map_data() function
world_coordinates <- map_data("world")
Canary<- world_coordinates %>%
filter(long > -18.53 & long < -12.9, lat > 24.5 & lat < 32)#Filter Canary Island region
Canary_map <- ggplot() +
geom_map(data = Canary, map = Canary, aes(long, lat, map_id = region), color = "black",
fill = "#c2a18b", size = 0.2) +
geom_segment(aes(x= x, xend= xend, y= y, yend= yend, color = turnover),
data= jaccard_similarity_on_map)+ scale_color_gradient(high="red",low="blue")+
# Lines connecting points and pie charts
geom_segment(aes(x = Lon, y = lat, xend = xend, yend = yend), length = unit(0.2, "inches"),
color = "black", data = segm_connect) +
#DO IT MANUALLY
geom_point(aes(x= Lon, y= lat), shape = 21, fill= 'white', color= "black", data= lon_lat_data )+
xlab("Longitude") +xlim(-18.53, -13.5)+ ylab("Latitude")+ ylim(24.9,30)+
theme(panel.border = element_blank(),
panel.background = element_rect(fill = "#F0F8FF",colour = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_line(size = 0.4, linetype = "solid", colour = "black"))+
theme(axis.title=element_text(size=17))+theme(axis.text.x=element_text(size=13))+
theme(axis.text.y=element_text(size=13))+ theme(legend.title = element_text(size = 13), legend.text = element_text(size = 13))+
labs(color = "Jaccard Similarity")
Canary_map
##-- Final map containing Jaccard Similarity across Islands and the scatter pies
top_10_scatterpies_no_legend <- top_10_scatterpies + theme(legend.position = "none")
pdf('./graphs/Islands/Map_modules.pdf', 10, 6)
ggdraw()+ draw_plot(Canary_map)+
draw_plot(top_10_scatterpies_no_legend, x = -0.088, y = 0.12, scale = 0.70)
dev.off()
#Plot
top_10_scatterpies <- ggplot()+ geom_scatterpie(aes(x=Lon, y=lat, group=layer_id, r=0.2), alpha=0.90, data= pie_chart_data2,
cols=colnames(pie_chart_data2[,c(4:12)]))+
theme_void()+ coord_fixed()+ theme(legend.text = element_text(size = 13), legend.title = element_text(size = 13))
top_10_scatterpies
#combine turnover data frame with coordinates
empirical_turnover_for_module_island_shuf_no_self_loop_km <- read.csv("csvs/Islands/islands_turnover_with_distnace_empirical.csv")
islands_with_lon_lat_dif <- read.csv("./csvs/islands_with_lon_lat_dif.csv")
# Modify islands_with_lon_lat_dif dataframe
islands_with_lon_lat_dif2<- islands_with_lon_lat_dif %>%
mutate(layer_from = recode(layer_from, "1" = "1", "2" = "2", "3"="3", "4east" = "4", "4west" = "5", "6" = "6", "7" = "7"),
layer_to = recode(layer_to, "1" = "1", "2" = "2", "3"="3", "4east" = "4", "4west" = "5", "5" = "6", "6" = "7"))
#join both data frames
jaccard_similarity_on_map <- merge(empirical_turnover_for_module_island_shuf_no_self_loop_km, islands_with_lon_lat_dif2,
by = c("layer_from", "layer_to"))
pie_coord<- data.frame(xend = c(-14.57,-14.15,-15.72,-16.70,-17.2,-17.48,-18.1),
yend = c(26.18,29.42,28.44,28.9,29.08,28.64,28.33))
segm_connect<- cbind(lon_lat_data, pie_coord)
##Create data for world coordinates using map_data() function
world_coordinates <- map_data("world")
Canary<- world_coordinates %>%
filter(long > -18.53 & long < -12.9, lat > 24.5 & lat < 32)#Filter Canary Island region
Canary_map <- ggplot() +
geom_map(data = Canary, map = Canary, aes(long, lat, map_id = region), color = "black",
fill = "#c2a18b", size = 0.2) +
geom_segment(aes(x= x, xend= xend, y= y, yend= yend, color = turnover),
data= jaccard_similarity_on_map)+ scale_color_gradient(high="red",low="blue")+
# Lines connecting points and pie charts
geom_segment(aes(x = Lon, y = lat, xend = xend, yend = yend), length = unit(0.2, "inches"),
color = "black", data = segm_connect) +
#DO IT MANUALLY
geom_point(aes(x= Lon, y= lat), shape = 21, fill= 'white', color= "black", data= lon_lat_data )+
xlab("Longitude") +xlim(-18.53, -13.5)+ ylab("Latitude")+ ylim(24.9,30)+
theme(panel.border = element_blank(),
panel.background = element_rect(fill = "#F0F8FF",colour = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_line(size = 0.4, linetype = "solid", colour = "black"))+
theme(axis.title=element_text(size=17))+theme(axis.text.x=element_text(size=13))+
theme(axis.text.y=element_text(size=13))+ theme(legend.title = element_text(size = 13), legend.text = element_text(size = 13))+
labs(color = "Jaccard Similarity")
Canary_map
##-- Final map containing Jaccard Similarity across Islands and the scatter pies
top_10_scatterpies_no_legend <- top_10_scatterpies + theme(legend.position = "none")
pdf('./graphs/Islands/Map_modules.pdf', 10, 6)
ggdraw()+ draw_plot(Canary_map)+
draw_plot(top_10_scatterpies_no_legend, x = -0.088, y = 0.12, scale = 0.70)
dev.off()
