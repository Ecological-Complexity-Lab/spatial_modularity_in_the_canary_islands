knitr::opts_chunk$set(echo = FALSE, results = "asis", message=FALSE, warning=FALSE, cache=TRUE, eval = TRUE, dev = c('png'), out.width = '100%', out.height='40%')
co_occurrence_species<- read.csv("co_occurrence_species.csv")
#Maximum potential interlayer links according to species co-occurrence
co_occurrence_tot<-co_occurrence_species %>%  group_by(node_id) %>%
mutate(tot_island = sum (n)) %>%
summarize(Num_pot_interedge= case_when(tot_island == '1' ~ '0',
tot_island == '2' ~ '1',
tot_island == '3' ~ '3',
tot_island == '4' ~ '6',
tot_island == '5' ~ '10',
tot_island == '6' ~ '15',
tot_island == '7' ~ '21'))%>% unique()  #Potential links according to species co-occurence
#Calculate the number and proportion of species in each module
modules_dryad_multilayer <- read.csv("Prop_sp_in_island.csv")
ggplot(Prop_sp_in_island, aes(x = module, y = layer_name, fill=Prop_sp )) +
geom_tile(color='white') +
theme(panel.grid = element_blank(),panel.background = element_blank(),
axis.text.x = element_text(size=12, colour = "black"),
axis.text.y=element_text(size=13, colour = "black"), axis.title = element_text(size=14),
legend.text=element_text(size=11.5),legend.title =element_text(size=12),
axis.line = element_line(colour = "black")) +
scale_fill_viridis(name = "Prop. sp",limits = c(0, 0.50)) +
scale_x_continuous(breaks=seq(1,88,4)) +
scale_y_discrete(limits = c("Hierro","Gomera","TenerifeTeno","TenerifeSouth","GranCanaria","Fuerteventura","WesternSahara"))+
labs(x='Module ID', y="Locations")
modules_dryad_multilayer <- read.csv("modules_in_network_islands_as_layers.csv")
modules_dryad_multilayer <- read.csv("modules_in_network_islands_as_layers.csv")
##-- Check if modules are integrated by the same species across layers
same_species_mod<-modules_dryad_multilayer  %>% select(-flow,-species) %>%
group_by(module) %>% distinct(node_id) %>% count() #all modules have two or more different species
modules_dryad_multilayer <- read.csv("modules_in_network_islands_as_layers.csv")
##-- Check if modules are integrated by the same species across layers
same_species_mod<-modules_dryad_multilayer  %>% select(-flow,-species) %>%
group_by(module) %>% distinct(node_id) %>% count() #all modules have two or more different species
knitr::opts_chunk$set(echo = FALSE, results = "asis", message=FALSE, warning=FALSE, cache=TRUE, eval = TRUE, dev = c('png'), out.width = '100%', out.height='40%')
library(knitr)
Description <- read_excel("Table_models.xlsx", sheet = 4)
library(infomapecology)
library(infomapecology)
library(igraph)
library(bipartite)
library(tidyverse)
library(igraph)
library(bipartite)
library(tidyverse)
library(magrittr)
library(betalink)
library(readxl)
library(ggalluvial)
library(scatterpie)
library(scatterpie)
library(reshape2)
library(ggforce)
library(ggmap)
library(ggraph)
library(ggpubr)
library(knitr)
Description <- read_excel("Table_models.xlsx", sheet = 4)
kable(Description, align=c(rep('c',times=6)), digits = c(0,3,5,3,3,0), format.args = list(scientific = FALSE))
Description
Description
